!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).urlparse=e()}}((function(){return function e(t,o,r){function n(a,i){if(!o[a]){if(!t[a]){var u="function"==typeof require&&require;if(!i&&u)return u(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var p=o[a]={exports:{}};t[a][0].call(p.exports,(function(e){return n(t[a][1][e]||e)}),p,p.exports,e,t,o,r)}return o[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,o){(function(o){"use strict";var r=e("requires-port"),n=e("querystringify"),s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,i=/^[a-zA-Z]:/,u=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(u,"")}var p=[["#","hash"],["?","query"],function(e,t){return h(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function f(e){var t,r=("undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{}).location||{},n={},a=typeof(e=e||r);if("blob:"===e.protocol)n=new y(unescape(e.pathname),{});else if("string"===a)for(t in n=new y(e,{}),c)delete n[t];else if("object"===a){for(t in e)t in c||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=s.test(e.href))}return n}function h(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function d(e,t){e=l(e),t=t||{};var o,r=a.exec(e),n=r[1]?r[1].toLowerCase():"",s=!!r[2],i=!!r[3],u=0;return s?i?(o=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(o=r[2]+r[4],u=r[2].length):i?(o=r[3]+r[4],u=r[3].length):o=r[4],"file:"===n?u>=2&&(o=o.slice(2)):h(n)?o=r[4]:n?s&&(o=o.slice(2)):u>=2&&h(t.protocol)&&(o=r[4]),{protocol:n,slashes:s||h(n),slashesCount:u,rest:o}}function y(e,t,o){if(e=l(e),!(this instanceof y))return new y(e,t,o);var s,a,u,c,m,w,g=p.slice(),v=typeof t,x=this,b=0;for("object"!==v&&"string"!==v&&(o=t,t=null),o&&"function"!=typeof o&&(o=n.parse),s=!(a=d(e||"",t=f(t))).protocol&&!a.slashes,x.slashes=a.slashes||s&&t.slashes,x.protocol=a.protocol||t.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||i.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!h(x.protocol)))&&(g[3]=[/(.*)/,"pathname"]);b<g.length;b++)"function"!=typeof(c=g[b])?(u=c[0],w=c[1],u!=u?x[w]=e:"string"==typeof u?~(m=e.indexOf(u))&&("number"==typeof c[2]?(x[w]=e.slice(0,m),e=e.slice(m+c[2])):(x[w]=e.slice(m),e=e.slice(0,m))):(m=u.exec(e))&&(x[w]=m[1],e=e.slice(0,m.index)),x[w]=x[w]||s&&c[3]&&t[w]||"",c[4]&&(x[w]=x[w].toLowerCase())):e=c(e,x);o&&(x.query=o(x.query)),s&&t.slashes&&"/"!==x.pathname.charAt(0)&&(""!==x.pathname||""!==t.pathname)&&(x.pathname=function(e,t){if(""===e)return t;for(var o=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=o.length,n=o[r-1],s=!1,a=0;r--;)"."===o[r]?o.splice(r,1):".."===o[r]?(o.splice(r,1),a++):a&&(0===r&&(s=!0),o.splice(r,1),a--);return s&&o.unshift(""),"."!==n&&".."!==n||o.push(""),o.join("/")}(x.pathname,t.pathname)),"/"!==x.pathname.charAt(0)&&h(x.protocol)&&(x.pathname="/"+x.pathname),r(x.port,x.protocol)||(x.host=x.hostname,x.port=""),x.username=x.password="",x.auth&&(c=x.auth.split(":"),x.username=c[0],x.password=c[1]||""),x.origin="file:"!==x.protocol&&h(x.protocol)&&x.host?x.protocol+"//"+x.host:"null",x.href=x.toString()}y.prototype={set:function(e,t,o){var s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(o||n.parse)(t)),s[e]=t;break;case"port":s[e]=t,r(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,/:\d+$/.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!o;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";s[e]=t.charAt(0)!==a?a+t:t}else s[e]=t;break;case"username":case"password":s[e]=encodeURIComponent(t);break;case"auth":var i=t.split(":");s.username=i[0],s.password=2===i.length?i[1]:""}for(var u=0;u<p.length;u++){var l=p[u];l[4]&&(s[l[1]]=s[l[1]].toLowerCase())}return s.auth=s.password?s.username+":"+s.password:s.username,s.origin="file:"!==s.protocol&&h(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(e){e&&"function"==typeof e||(e=n.stringify);var t,o=this,r=o.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var s=r+(o.protocol&&o.slashes||h(o.protocol)?"//":"");return o.username?(s+=o.username,o.password&&(s+=":"+o.password),s+="@"):o.password&&(s+=":"+o.password,s+="@"),s+=o.host+o.pathname,(t="object"==typeof o.query?e(o.query):o.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),o.hash&&(s+=o.hash),s}},y.extractProtocol=d,y.location=f,y.trimLeft=l,y.qs=n,t.exports=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:2,"requires-port":3}],2:[function(e,t,o){"use strict";var r=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function s(e){try{return encodeURIComponent(e)}catch(e){return null}}o.stringify=function(e,t){t=t||"";var o,n,a=[];for(n in"string"!=typeof t&&(t="?"),e)if(r.call(e,n)){if((o=e[n])||null!=o&&!isNaN(o)||(o=""),n=s(n),o=s(o),null===n||null===o)continue;a.push(n+"="+o)}return a.length?t+a.join("&"):""},o.parse=function(e){for(var t,o=/([^=?#&]+)=?([^&]*)/g,r={};t=o.exec(e);){var s=n(t[1]),a=n(t[2]);null===s||null===a||s in r||(r[s]=a)}return r}},{}],3:[function(e,t,o){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}]},{},[1])(1)}));